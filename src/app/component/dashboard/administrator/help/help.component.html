<div *ngIf="loading" style="height: 90vh">
    <div class="spinner loading"></div>
</div>

<div *ngIf="!loading && selectedUser === undefined" style="height: 100%">
  <div class="container">
    <div class="row">      
      <div class="grid-button-operation-group">
        <button kendoButton [icon]="'add'" class="addButton"
              (click)="addNewModal()">
              {{language.addHelpTopic}}
        </button>         
      </div>  
    </div>
    <div class="row">
      <ng-container *ngFor="let topic of topics">
        <app-topic-card [topic]="topic" (editEmmiter)="openEditTemplateModal($event)" (deleteEmmiter)="deleteHelpTopic($event)"></app-topic-card>            
      </ng-container>         
    </div>
  </div>
</div>

<modal
  #helpTopicModal
  (onClose)="closeHelpTopicModal()"
  modalClass="modal-md modal-dialog-centered no-footer"
>
  <modal-header>
    <h4>{{ language.helpTopic }}</h4>
  </modal-header>
  <modal-content class="pb-0">
    <form
      (ngSubmit)="
      helpTopicModal.form.valid === true
          ? operationMode === 'add'
            ? createHelpTopic()
            : updateHelpTopic()
          : null
      "
      #helpTopicModal="ngForm"
    >
      <div class="form-group">
        <kendo-textbox-container floatingLabel="{{ language.title }}">
          <input
            kendoTextBox
            required
            type="text"
            class="col-12"
            [(ngModel)]="topic.name"
            name="name"
          />
        </kendo-textbox-container>
      </div>      

      <div class="form-group" style="text-align: center">
        <button
          *ngIf="operationMode === 'add'"
          kendoButton
          [primary]="true"
          class="form-button"
          [disabled]="helpTopicModal.form.invalid"
          type="submit"
        >
          {{ language.add }}
        </button>
        <button
          *ngIf="operationMode === 'edit'"
          kendoButton
          [primary]="true"
          class="form-button"
          [disabled]="helpTopicModal.form.invalid"
          type="submit"
        >
          {{ language.edit }}
        </button>
      </div>
    </form>
  </modal-content>
</modal>